[mgba]
# mGBA Lua socket server connection settings
host = localhost
port = 8888
timeout = 10.0

[io_hardening]
# Non-intrusive I/O hardening settings for opt-in rate limiting and resilience
# Enable adaptive socket wrapper with rate limiting and circuit breaker
# Default: disabled (set to true to enable)
enable_adaptive_socket = false

# Maximum requests per second for screenshot and memory read operations
# Enforces token-bucket rate limiting with burst capacity
# Default: 15.0 (allows ~30 requests in 2-second burst window)
IO_MAX_RPS = 15.0

# Circuit breaker: failure threshold before opening circuit
# Number of consecutive failures that trigger circuit to open
# Default: 5 (open after 5 failures)
IO_CIRCUIT_FAILS = 5

# Circuit breaker: cooldown time in milliseconds before transitioning to half-open
# After opening, wait this long before attempting recovery (with jitter)
# Default: 1200 (1.2 seconds)
IO_CIRCUIT_COOLDOWN_MS = 1200

[screenshot_guard]
# Enable debounce and single-flight screenshot protection
# Collapses concurrent requests within debounce window to single execution
# Default: disabled (set to true to enable)
enable_screenshot_guard = false

# Debounce window in milliseconds
# Rapid screenshot calls within this window are collapsed to one execution
# Default: 100 (100 milliseconds)
SCREENSHOT_DEBOUNCE_MS = 100
